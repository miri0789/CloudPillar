parameters:
  imageName: ''
  imagePath: ''
  dockerFilePath: ''
  imageVersion: ''
  pipelineAcrConnection: ''
  registryName: ''
  AGENT_POOL: ''
  AGENT_NAME: ''



# variables:
# - group: arm-vg
# - group: iac-backend-vg
# - group: aks-backend-vg
# - group: backend-secrets-vg

steps:
- checkout: self
  persistCredentials: true
  clean: true
- template: 'images-template.yml'
  parameters:
    imageName: "$[ parameters.imageName }}"
    imageVersion: "$[ parameters.imageVersion }}"
    imagePath: "$[ parameters.imagePath }}"
    dockerFilePath: "$[ parameters.dockerFilePath }}"
    registryName: "$[ parameters.registryName }}"
    pipelineAcrConnection: "$[ parameters.pipelineAcrConnection }}"
    selectedImage: ${{ parameters.image }}
- task: Bash@3
  inputs:
    targetType: 'inline'
    script: |
      echo 'selectedImage: ${{ parameters.imageName }}'
      echo 'imageVersion: ${{ parameters.imageVersion }}'
      echo 'imagePath: ${{ parameters.imagePath }}'
      echo 'imagePath: ${{ parameters.imagePath }}'
      echo 'registryName: ${{ parameters.registry }}'
      echo 'pipelineAcrConnection: ${{ parameters.pipelineAcrConnection }}'

    name: printParameters
      
