name: tester

trigger:
# - none
# - main
- $(Build.SourceBranchName)

pool:
  vmImage: ubuntu-latest

jobs:
- job: SetPrintVar
  displayName: "Var from Same Job"
  steps:
  - bash: |
     echo "##vso[task.setvariable variable=myVar;]myvar1"
    name: "SetMyVar"
  - bash: |
      echo "You can use macro syntax for variables: $(myVar)"
    name: "PrintMyVar"

- job: VarInJob
  displayName: "Use Var from Same Job"
  steps:
  - bash: |
     echo "##vso[task.setvariable variable=myJobVar]JobVar1"
    name: "SetMyJobVar"
  - bash: |
     echo "##vso[task.setvariable variable=myOutputJobVar;isoutput=true]JobVar2"
    name: setOutputMyJobVar
  - bash: |
     echo $(myJobVar) 
    name: "PrintMyJobVar"
  - bash: |
     echo $(setOutputMyJobVar.myOutputJobVar)
    name: "PrintOutputMyJobVar"
    